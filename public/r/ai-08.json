{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ai-08",
  "type": "registry:block",
  "title": "Floating Chatbot Widget",
  "description": "A floating chatbot widget with a button in the bottom-right corner that opens a chat panel on click. Includes minimize and close functionality.",
  "author": "Asad Chaudhary <https://github.com/asadchaudhary79>",
  "registryDependencies": [
    "avatar",
    "button",
    "scroll-area",
    "textarea"
  ],
  "dependencies": [
    "@tabler/icons-react"
  ],
  "files": [
    {
      "path": "content/components/ai/ai-08.tsx",
      "type": "registry:component",
      "target": "components/ai-08.tsx",
      "content": "\"use client\";\r\n\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport {\r\n  IconArrowUp,\r\n  IconMicrophone,\r\n  IconMinus,\r\n  IconPaperclip,\r\n  IconRobot,\r\n  IconX,\r\n} from \"@tabler/icons-react\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\n\r\ninterface Message {\r\n  id: string;\r\n  role: \"user\" | \"assistant\";\r\n  content: string;\r\n  timestamp: Date;\r\n}\r\n\r\nconst INITIAL_MESSAGES: Message[] = [\r\n  {\r\n    id: \"1\",\r\n    role: \"assistant\",\r\n    content: \"Hello! I'm your AI assistant. How can I help you today?\",\r\n    timestamp: new Date(Date.now() - 300000),\r\n  },\r\n];\r\n\r\nexport default function Ai08() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isMinimized, setIsMinimized] = useState(false);\r\n  const [messages, setMessages] = useState<Message[]>(INITIAL_MESSAGES);\r\n  const [input, setInput] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && !isMinimized) {\r\n      messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  }, [messages, isTyping, isOpen, isMinimized]);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!input.trim() || isTyping) return;\r\n\r\n    const userMessage: Message = {\r\n      id: Date.now().toString(),\r\n      role: \"user\",\r\n      content: input.trim(),\r\n      timestamp: new Date(),\r\n    };\r\n\r\n    setMessages((prev) => [...prev, userMessage]);\r\n    setInput(\"\");\r\n    setIsTyping(true);\r\n\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = \"auto\";\r\n    }\r\n\r\n    // Simulate AI response\r\n    setTimeout(() => {\r\n      const aiResponse: Message = {\r\n        id: (Date.now() + 1).toString(),\r\n        role: \"assistant\",\r\n        content: `I understand you're asking about \"${userMessage.content}\". This is a simulated response. In a real implementation, you would connect this to your AI service API.`,\r\n        timestamp: new Date(),\r\n      };\r\n      setMessages((prev) => [...prev, aiResponse]);\r\n      setIsTyping(false);\r\n    }, 1500);\r\n  };\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSubmit(e as any);\r\n    }\r\n  };\r\n\r\n  const handleTextareaChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setInput(e.target.value);\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = \"auto\";\r\n      textareaRef.current.style.height = `${Math.min(\r\n        textareaRef.current.scrollHeight,\r\n        120\r\n      )}px`;\r\n    }\r\n  };\r\n\r\n  const toggleChat = () => {\r\n    setIsOpen(!isOpen);\r\n    setIsMinimized(false);\r\n  };\r\n\r\n  const minimizeChat = () => {\r\n    setIsMinimized(true);\r\n  };\r\n\r\n  const closeChat = () => {\r\n    setIsOpen(false);\r\n    setIsMinimized(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Floating Chat Button */}\r\n      {!isOpen && (\r\n        <Button\r\n          onClick={toggleChat}\r\n          size=\"lg\"\r\n          className=\"fixed bottom-6 right-6 z-50 h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110\"\r\n        >\r\n          <IconRobot className=\"h-6 w-6\" />\r\n          <span className=\"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-emerald-500 text-xs text-white\">\r\n            1\r\n          </span>\r\n        </Button>\r\n      )}\r\n\r\n      {/* Chat Panel */}\r\n      {isOpen && (\r\n        <div\r\n          className={cn(\r\n            \"fixed bottom-6 right-6 z-50 flex flex-col rounded-2xl border border-border bg-card shadow-2xl transition-all duration-300\",\r\n            isMinimized\r\n              ? \"h-16 w-80\"\r\n              : \"h-[600px] w-[400px] md:w-[450px]\"\r\n          )}\r\n        >\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between border-b border-border px-4 py-3 bg-muted/30\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10\">\r\n                <IconRobot className=\"h-5 w-5 text-primary\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-semibold text-foreground\">AI Chatbot</h3>\r\n                {!isMinimized && (\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    {isTyping ? \"Typing...\" : \"Online\"}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              {!isMinimized && (\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8\"\r\n                  onClick={minimizeChat}\r\n                >\r\n                  <IconMinus className=\"h-4 w-4\" />\r\n                </Button>\r\n              )}\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                className=\"h-8 w-8\"\r\n                onClick={closeChat}\r\n              >\r\n                <IconX className=\"h-4 w-4\" />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {!isMinimized && (\r\n            <>\r\n              {/* Messages Area */}\r\n              <ScrollArea className=\"flex-1 min-h-0\">\r\n                <div className=\"flex flex-col gap-4 px-4 py-4\">\r\n                  {messages.map((message) => (\r\n                    <div\r\n                      key={message.id}\r\n                      className={cn(\r\n                        \"flex gap-3\",\r\n                        message.role === \"user\" ? \"justify-end\" : \"justify-start\"\r\n                      )}\r\n                    >\r\n                      {message.role === \"assistant\" && (\r\n                        <Avatar className=\"h-8 w-8 shrink-0\">\r\n                          <AvatarFallback className=\"bg-primary/10 text-primary\">\r\n                            <IconRobot className=\"h-4 w-4\" />\r\n                          </AvatarFallback>\r\n                        </Avatar>\r\n                      )}\r\n\r\n                      <div\r\n                        className={cn(\r\n                          \"flex max-w-[75%] flex-col gap-1.5\",\r\n                          message.role === \"user\" && \"items-end\"\r\n                        )}\r\n                      >\r\n                        <div\r\n                          className={cn(\r\n                            \"rounded-2xl px-4 py-2.5\",\r\n                            message.role === \"user\"\r\n                              ? \"bg-primary text-primary-foreground\"\r\n                              : \"bg-muted text-foreground\"\r\n                          )}\r\n                        >\r\n                          <p className=\"text-sm leading-relaxed whitespace-pre-wrap\">\r\n                            {message.content}\r\n                          </p>\r\n                        </div>\r\n                        <span className=\"text-xs text-muted-foreground px-1\">\r\n                          {message.timestamp.toLocaleTimeString([], {\r\n                            hour: \"2-digit\",\r\n                            minute: \"2-digit\",\r\n                          })}\r\n                        </span>\r\n                      </div>\r\n\r\n                      {message.role === \"user\" && (\r\n                        <Avatar className=\"h-8 w-8 shrink-0\">\r\n                          <AvatarFallback className=\"bg-muted\">U</AvatarFallback>\r\n                        </Avatar>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n\r\n                  {isTyping && (\r\n                    <div className=\"flex gap-3 justify-start\">\r\n                      <Avatar className=\"h-8 w-8 shrink-0\">\r\n                        <AvatarFallback className=\"bg-primary/10 text-primary\">\r\n                          <IconRobot className=\"h-4 w-4\" />\r\n                        </AvatarFallback>\r\n                      </Avatar>\r\n                      <div className=\"flex max-w-[75%] flex-col gap-1.5\">\r\n                        <div className=\"rounded-2xl bg-muted px-4 py-2.5\">\r\n                          <div className=\"flex gap-1\">\r\n                            <div className=\"h-2 w-2 rounded-full bg-muted-foreground/50 animate-bounce [animation-delay:-0.3s]\"></div>\r\n                            <div className=\"h-2 w-2 rounded-full bg-muted-foreground/50 animate-bounce [animation-delay:-0.15s]\"></div>\r\n                            <div className=\"h-2 w-2 rounded-full bg-muted-foreground/50 animate-bounce\"></div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div ref={messagesEndRef} />\r\n                </div>\r\n              </ScrollArea>\r\n\r\n              {/* Input Area */}\r\n              <div className=\"border-t border-border p-4\">\r\n                <form onSubmit={handleSubmit} className=\"flex gap-2\">\r\n                  <div className=\"relative flex-1\">\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      className=\"absolute left-2 top-1/2 h-7 w-7 -translate-y-1/2 rounded-full\"\r\n                    >\r\n                      <IconPaperclip className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </Button>\r\n                    <Textarea\r\n                      ref={textareaRef}\r\n                      value={input}\r\n                      onChange={handleTextareaChange}\r\n                      onKeyDown={handleKeyDown}\r\n                      placeholder=\"Type your message...\"\r\n                      className=\"min-h-[44px] max-h-[120px] resize-none rounded-xl border-border bg-background pl-10 pr-20 text-sm\"\r\n                      rows={1}\r\n                      disabled={isTyping}\r\n                    />\r\n                    <div className=\"absolute right-2 top-1/2 flex -translate-y-1/2 items-center gap-1\">\r\n                      <Button\r\n                        type=\"button\"\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        className=\"h-7 w-7 rounded-full\"\r\n                        disabled={isTyping}\r\n                      >\r\n                        <IconMicrophone className=\"h-4 w-4 text-muted-foreground\" />\r\n                      </Button>\r\n                      <Button\r\n                        type=\"submit\"\r\n                        size=\"icon\"\r\n                        className=\"h-7 w-7 rounded-full\"\r\n                        disabled={!input.trim() || isTyping}\r\n                      >\r\n                        <IconArrowUp className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {isMinimized && (\r\n            <div className=\"flex items-center justify-between px-4\">\r\n              <p className=\"text-sm text-muted-foreground\">Chat minimized</p>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => setIsMinimized(false)}\r\n              >\r\n                Restore\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\n"
    }
  ],
  "categories": [
    "ai"
  ]
}